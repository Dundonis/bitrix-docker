# bitrix-docker

### Начало работы
* Для начала необходимо установить [Docker](https://docs.docker.com/engine/install/)!
* Далее перейдите в дирректорию с docker-compose.yaml файлом и выполните следующую команду: `docker-compose up -d`
* Для полного удаления поднятой структуры, поднятой docker-compose используйте `docker-compose down`
* Для остановки всех запущенных контейнеров используйте `docker stop $(docker ps -a -q)`
* Для перезагрузки всей структуры используйте `docker-compose restart`

### Использование
* В файле .env необходимо указать пусть к точке монтирования папок из контейнеров
* Пароль для root пользователя от базы также указан в файле .env
* Для добавления php библиотек нужно править Dockerfile и пересобирать билд контейнера
* Для работы с базой данных понадобится ip адрес контейнера, его можно узнать из пункта ниже

####### Чтобы узнать IP адреса ваших контейнеров используйте следующую команду:
`docker inspect -f '{{.Name}} - {{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' $(docker ps -aq)`
# !Важно
При удалении контейнера с базой, пропадут все данные БД
При повторной сборке контейнера с php, заранее используйте команду `docker builder prune -a`, также необходимо удалить image от предыдущей сборки
